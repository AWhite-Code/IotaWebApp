@using IotaWebApp.Data;
@inject WebsiteCMSDbContext DbContext

@{
    Func<string, string> GetContentValue = key => DbContext.WebsiteContents.FirstOrDefault(c => c.ContentKey == key)?.ContentValue ?? string.Empty;

    string headerLogoImage = ViewData["HeaderLogoImage"] as string ?? GetContentValue("HeaderLogoImage") ?? "~/Assets/logo.png";
    string headerProjectButtonText = ViewData["HeaderProjectButtonText"] as string ?? GetContentValue("HeaderProjectButtonText") ?? "Have a Project?";

    string navLink1 = ViewData["NavLink1"] as string ?? GetContentValue("NavLink1") ?? "Home";
    string navLink1Url = ViewData["NavLink1Url"] as string ?? GetContentValue("NavLink1Url") ?? "#";

    string navLink2 = ViewData["NavLink2"] as string ?? GetContentValue("NavLink2") ?? "Services";
    string navLink2Url = ViewData["NavLink2Url"] as string ?? GetContentValue("NavLink2Url") ?? "#";

    string navLink3 = ViewData["NavLink3"] as string ?? GetContentValue("NavLink3") ?? "Sustainability";
    string navLink3Url = ViewData["NavLink3Url"] as string ?? GetContentValue("NavLink3Url") ?? "#";

    string navLink4 = ViewData["NavLink4"] as string ?? GetContentValue("NavLink4") ?? "Our Work";
    string navLink4Url = ViewData["NavLink4Url"] as string ?? GetContentValue("NavLink4Url") ?? "#";

    string navLink5 = ViewData["NavLink5"] as string ?? GetContentValue("NavLink5") ?? "Resources";
    string navLink5Url = ViewData["NavLink5Url"] as string ?? GetContentValue("NavLink5Url") ?? "#";
        
    string navLink6 = ViewData["NavLink6"] as string ?? GetContentValue("NavLink6") ?? "About IOTA";
    string navLink6Url = ViewData["NavLink6Url"] as string ?? GetContentValue("NavLink6Url") ?? "#";

    string navLink7 = ViewData["NavLink7"] as string ?? GetContentValue("NavLink7") ?? "Get in Touch";
    string navLink7Url = ViewData["NavLink7Url"] as string ?? GetContentValue("NavLink7Url") ?? "#";
    string footerLogoImage = headerLogoImage;
    string footerCopyrightText = GetContentValue("FooterCopyrightText") ?? "© iOTA interiors Limited iOTA Office Furniture";
    string footerTermsText = GetContentValue("FooterTermsText") ?? "Terms & Conditions";
    string footerSiteCreditText = GetContentValue("FooterSiteCreditText") ?? "Site by Verto";

    string footerHeadOfficeTitle = GetContentValue("FooterHeadOfficeTitle") ?? "Head Office:";
    string footerHeadOfficeLine1 = GetContentValue("FooterHeadOfficeLine1") ?? "The Crabtree, Quinton Green Park, Quinton";
    string footerHeadOfficeLine2 = GetContentValue("FooterHeadOfficeLine2") ?? "Northampton, NN7 2EG";

    string footerSocialConnectText = GetContentValue("FooterSocialConnectText") ?? "Connect with Us";
    string footerSocialLikeText = GetContentValue("FooterSocialLikeText") ?? "Like Us";

    string footerContactPhone = GetContentValue("FooterContactPhone") ?? "+44 (0) 01604289630";
    string footerContactEmail = GetContentValue("FooterContactEmail") ?? "Hello@iotaofficefurniture.co.uk";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - IOTA</title>
    <link rel="stylesheet" href="~/lib/foundation/css/foundation.min.css" />
    <link rel="stylesheet" href="~/lib/slick-carousel/slick.css" />
    <link rel="stylesheet" href="~/lib/slick-carousel/slick-theme.css" />
    <link rel="stylesheet" href="~/css/site.css" />
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Red+Hat+Display:wght@400;500&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

    @RenderSection("Head", required: false)
</head>
<body>
    <header>
        <div class="grid-container fluid" id="header-container">
            <div class="grid-x align-middle">
                <div class="cell shrink" id="logo-container">
                    <img src="@Url.Content(headerLogoImage)" alt="IOTA Logo" class="logo" />
                </div>
                <div class="cell auto" id="nav-container">
                    <div class="project-button-container text-right">
                        <a href="#" class="button project-btn">@headerProjectButtonText</a>
                    </div>
                    <div class="nav-actions text-right">
                        <ul class="menu" id="top-bar-links">
                            <li><a href="@navLink1Url" class="home-link">@navLink1</a></li>
                            <li><a href="@navLink2Url">@navLink2</a></li>
                            <li><a href="@navLink3Url">@navLink3</a></li>
                            <li><a href="@navLink4Url">@navLink4</a></li>
                            <li><a href="@navLink5Url">@navLink5</a></li>
                            <li><a href="@navLink6Url">@navLink6</a></li>
                            <li><a href="@navLink7Url">Get in Touch</a></li>
                        </ul>
                        <a href="#" class="search-icon">
                            <img src="@Url.Content("~/assets/search.png")" alt="Search" class="header-search-icon" />
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <div class="grid-container fluid">
        @RenderBody()
    </div>
    <footer>
        <div class="grid-container fluid brown-footer">
            <div class="grid-x grid-margin-x">
                <div class="cell large-3 medium-6 small-12">
                    <img src="@Url.Content(footerLogoImage)" alt="IOTA Logo" class="footer-logo" />
                </div>
            </div>
            <div class="grid-x grid-margin-x">
                <div class="cell large-3 medium-6 small-12">
                    <p class="footer-copyright">
                        <i class="fa fa-copyright"></i> @footerCopyrightText
                    </p>
                    <p><a href="#">@footerTermsText</a></p>
                    <p>@footerSiteCreditText</p>
                </div>
                <div class="cell large-3 medium-6 small-12">
                    <p class="footer-title">@footerHeadOfficeTitle</p>
                    <p>@footerHeadOfficeLine1</p>
                    <p>@footerHeadOfficeLine2</p>
                </div>
                <div class="cell large-3 medium-6 small-12">
                    <p><i class="fa fa-twitter"></i> @footerSocialConnectText</p>
                    <p><i class="fa fa-facebook"></i> @footerSocialLikeText</p>
                </div>
                <div class="cell large-3 medium-6 small-12">
                    <p>@footerContactPhone</p>
                    <p>@footerContactEmail</p>
                </div>
            </div>
        </div>
    </footer>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/slick-carousel/slick.min.js"></script>
    <script src="~/lib/foundation/js/foundation.min.js"></script>
    <script src="~/js/site.js"></script>
    <script>$(document).foundation();</script>

    @RenderSection("Scripts", required: false)
</body>
</html>
